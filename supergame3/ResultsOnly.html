{{ extends "global/Page.html" }}
{{ block title }}Round {{ player.round_number }} results{{ endblock }}

{{ block content }}
<style>
  /* Expand to full width */
  .otree-body {
    max-width: 95% !important;
    width: 95% !important;
    padding: 0 !important;
  }

  /* Set base font size globally */
  body {
    font-size: 1.2rem !important;  /* ~19px */
    line-height: 1.6;
  }

  /* Tables */
  table {
    width: 100%;
    font-size: 1.1rem;
    border-collapse: collapse;
  }

  th, td {
    padding: 10px;
    text-align: center;
    border:1px solid black;
    border-radius: 10px;
  }

  /* Buttons and form elements */
  .otree-btn-next, .btn, input, textarea {
    font-size: 1.1rem;
  }

  h1, h2, h3 {
    font-size: 1.5rem;
  }

  /* Flex layout for panels */
  .wrapper {
    display: flex;
    width: 100%;
    height: 100vh;
  }

  .split {
    flex: 1;
    overflow-y: auto;
    padding: 30px;
    box-sizing: border-box;
  }

  .left {
    background-color: #f8f9fa;
    border-right: 1px solid #ccc;
  }
</style>
<div class="wrapper">
  <div class="split left">
  <h2 style="font-size:24px;">Results</h2>
  <p style="font-size:24px;">
    You placed {{ pcont }} tokens in the group account, therefore your private account balance is <span style = "color:red;">{{ priv }}</span> tokens.
    Your group members allocated the following to the group account:<br><br>
    <b>{{ one }}: {{ one_cont }} tokens<br>
    {{ two }}: {{ two_cont }} tokens<br>
    {{ three }}: {{ three_cont }} tokens</b><br><br>
    <b>Your group's total account balance is <span style="color:blue;">{{ gcont }}</span> tokens.</b><br>
    <b>Your profit is therefore <span style="color:red;">{{ priv }}</span> + &frac14; x 1.6 x <span style = "color:blue;">{{ gcont }}</span> = {{ pay }} ECUs.</b>
  </p><br><br>
  <h2 style="font-size:24px;">Table of Previous Results</h2>
   <table border="1" style="font-size:24px;">
     <tr>
       <th>Round</th>
       <th style="width:80px;"></th>
       {% for label in player_labels %}
         <th>Player {{ label }}</th>
       {% endfor %}
     </tr>
     {% for row in table_data %}
       <tr>
         <td rowspan="2" style="vertical-align:middle;">{{ row.round }}</td>
         <td style="font-style:italic;">Contribution</td>
         {% for c in row.contributions %}
           <td>{{ c }} tokens</td>
         {% endfor %}
       </tr>
       <tr>
         <td style="font-style:italic; background-color:#e0e0e0;">Payoff</td>
         {% for p in row.payoffs %}
           <td style="background-color:#e0e0e0;">{{ p }} ECUs</td>
         {% endfor %}
       </tr>
     {% endfor %}
   </table>
  </div>
</div>
{{ endblock }}